FROM mhart/alpine-node:9.8.0

WORKDIR /var/app

# Cache installation before
COPY package*.json /var/app/
ENV NODE_ENV=production
RUN npm install --production

# Only copy what is necessary to run in production
COPY src /var/app/

EXPOSE 80

CMD [ "npm", "run", "prod" ]
